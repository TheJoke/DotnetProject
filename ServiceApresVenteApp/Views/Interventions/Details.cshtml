@model ServiceApresVente.Models.Intervention

@{
    ViewData["Title"] = "Details";
}

<h1>Détails de l'Intervention</h1>

<!-- Détails de l'Intervention -->
<div>
    <h4>Intervention</h4>
    <hr />
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Technicien</th>
                <th>Date Intervention</th>
                <th>Sous Garantie</th>
                <th>Coût Main d'Oeuvre</th>
                <th>Coût Total</th>
                <th>Réclamation</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Html.DisplayFor(model => model.Technicien)</td>
                <td>@Html.DisplayFor(model => model.DateIntervention)</td>
                <td>@Html.DisplayFor(model => model.EstSousGarantie)</td>
                <td>@Html.DisplayFor(model => model.CoutMainOeuvre)</td>
                <td>@Html.DisplayFor(model => model.CoutTotal)</td>
                <td>@Html.DisplayFor(model => model.Reclamation.Id)</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Détails des pièces utilisées -->
@if (ViewBag.PieceDetails != null && ((List<(string PieceName, int Quantite, double PrixUnitaire, double PrixTotal)>)ViewBag.PieceDetails).Any())
{
    <h4>Pièces Utilisées</h4>
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Nom de la Pièce</th>
                <th>Quantité</th>
                <th>Prix Unitaire</th>
                <th>Prix Total</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var piece in (List<(string PieceName, int Quantite, double PrixUnitaire, double PrixTotal)>)ViewBag.PieceDetails)
            {
                <tr>
                    <td>@piece.PieceName</td>
                    <td>@piece.Quantite</td>
                    <td>@piece.PrixUnitaire</td>
                    <td>@piece.PrixTotal</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>Aucune pièce utilisée pour cette intervention.</p>
}

<!-- Boutons de navigation -->
<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id" class="btn btn-primary">Modifier</a>
    <a asp-action="Index" class="btn btn-secondary">Retour à la liste</a>
</div>
